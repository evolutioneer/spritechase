(function(d){var e={},c;function a(f){return"tagName" in f?f:f.parentNode}function b(g,f,i,h){var k=Math.abs(g-f),j=Math.abs(i-h);if(k>=j){return(g-f>0?"Left":"Right")}else{return(i-h>0?"Up":"Down")}}d(document).ready(function(){d(document.body).bind("touchstart",function(g){var f=Date.now(),h=f-(e.last||f);e.target=a(g.touches[0].target);c&&clearTimeout(c);e.x1=g.touches[0].pageX;e.y1=g.touches[0].pageY;if(h>0&&h<=250){e.isDoubleTap=true}e.last=f}).bind("touchmove",function(f){e.x2=f.touches[0].pageX;e.y2=f.touches[0].pageY}).bind("touchend",function(f){if(e.isDoubleTap){d(e.target).trigger("doubleTap");e={}}else{if(e.x2>0||e.y2>0){(Math.abs(e.x1-e.x2)>30||Math.abs(e.y1-e.y2)>30)&&d(e.target).trigger("swipe")&&d(e.target).trigger("swipe"+(b(e.x1,e.x2,e.y1,e.y2)));e.x1=e.x2=e.y1=e.y2=e.last=0
}else{if("last" in e){c=setTimeout(function(){c=null;d(e.target).trigger("tap");e={}},250)}}}}).bind("touchcancel",function(){e={}})});["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"].forEach(function(f){d.fn[f]=function(g){return this.bind(f,g)}})})(Zepto);